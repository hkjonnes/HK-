<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HK ðŸ¦‹</title>
  <meta name="theme-color" content="#8b5e3c">
  <!-- Bubbly font (Poppins) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --brown:#8b5e3c;
      --paper:#f3ead6;
      --accent:#5e3c2e;
    }
    html,body{height:100%;margin:0;}
    body{
      font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background-color: var(--brown);
      display:flex;
      align-items:center;
      justify-content:center;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }
    /* subtle paper texture as inline SVG background */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'><filter id='n'><feTurbulence baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.06'/></feComponentTransfer></filter><rect width='100%' height='100%' fill='%23caa77e' /><rect width='100%' height='100%' filter='url(%23n)' opacity='0.06' /></svg>");
      background-size: 300px 300px;
      opacity:0.95;
      z-index:0;
    }

    .container{
      z-index:1;
      width:100%;
      max-width:420px;
      padding:22px;
      box-sizing:border-box;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    .poem-card{
      background: var(--paper);
      color: #000;
      padding:22px;
      border-radius:18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.18);
      width:100%;
      text-align:center;
      position:relative;
      min-height:170px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .poem{
      font-size:20px;
      line-height:1.5;
      margin:0;
      padding:0 8px;
      font-weight:500;
      word-wrap:break-word;
    }

    .watermark{
      position:absolute;
      right:12px;
      bottom:10px;
      font-weight:700;
      opacity:0.6;
      font-size:12px;
      color:var(--accent);
    }

    .next{
      margin-top:16px;
      background:var(--accent);
      color:#fff;
      border:none;
      padding:10px 18px;
      border-radius:12px;
      font-size:16px;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,0.15);
    }

    .butterfly{
      position:fixed;
      top:18px;
      right:18px;
      font-size:30px;
      z-index:2;
      transform:translateY(0);
      animation: floaty 6s ease-in-out infinite;
      filter:drop-shadow(0 4px 6px rgba(0,0,0,0.15));
    }

    @keyframes floaty{
      0%{ transform: translateY(0) rotate(0deg); }
      50%{ transform: translateY(-12px) rotate(-12deg); }
      100%{ transform: translateY(0) rotate(0deg); }
    }

    @media (max-width:360px){
      .poem{ font-size:16px; }
      .poem-card{ min-height:150px; padding:16px; }
      .butterfly{ font-size:26px; top:12px; right:12px; }
    }
  </style>
</head>
<body>
  <main class="container" role="main">
    <article class="poem-card" role="article" aria-label="Daily Poem">
      <p id="poemText" class="poem">Loading today's poem...</p>
      <span class="watermark">hkjonnes</span>
    </article>
    <button id="nextBtn" class="next" aria-label="Next Poem">Next Poem</button>
  </main>

  <div class="butterfly" aria-hidden="true">ðŸ¦‹</div>

  <script>
    // All poems (original 39 + 10 extras praising her vibe/eyes)
    const poems = [
"How could I forget you when your name is always woven into the rhythm of my soul?",
"I have never seen someone like the moon and I have never seen someone like you. The moon shines the night and you shine my world.",
"Can you? When I am lying in bed at night and my mind drifts your way when my day is spent lost in your fantasy can you feel me thinking about you?",
"You make the world feel less like noise and more like music.",
"You didnâ€™t ruin me, you just made it harder for anyone else to reach me.",
"And maybe, just maybe your heart is a garden in need of a gardener who knows how to plant hope.",
"If someone were to ask me to describe 'beauty' my first thought would be to describe you because in my eyes beauty isnâ€™t just a word beauty is you.",
"You cross my mind in the smallest moments, when Iâ€™m laughing, when Iâ€™m lost in thoughts, when I see something beautiful. Itâ€™s like you're woven into everything good I feel.",
"You mean a lot to me. Sorry if I didnâ€™t show it in a way you needed.",
"I love you in a way you'll never notice and this is the most painful kind of love you made me feel.",
"The sunset reminds me of you.",
"I realized I still loved you when Iâ€™m with you I donâ€™t miss anything but when Iâ€™m with others I miss you.",
"Iâ€™m going to plant you like seeds in my dreams and water them every night until you blossom into a reality that I can feel with my bare hands.",
"Maybe it was your laugh or your eyes or your smile, maybe it was your hair or voice, personality or watching you talk but whatever it was it made me fall pretty damn hard.",
"I skip some songs because they sound too much like you.",
"I wanted to text you but I asked Jesus to watch over you for me.",
"I read a book I think about you, I see a sunset, I think about you, I hear your favorite song, I think about you, and even in my dreams I still think about you.",
"If loving you is a mistake, then let me be wrong forever because it feels right.",
"You're the only fish in my sea, my only bird in the sky, the only planet in my solar system, my only star in the sky.",
"I looked at you once and the idea of forever made sense, you looked at me once and my entire idea of forever changed its name to you.",
"There is this tune I found that makes me think of you and I play it on repeat till I fall asleep.",
"I dreamt about you nearly every night this week.",
"I think we are both blind: you canâ€™t see me and I canâ€™t see anyone except you.",
"My weakness isnâ€™t a thing; itâ€™s your eyes that calm me, your smile that ruins me, and your face I could love in every lifetime.",
"I want to be every word your heart feels, the music that dances in your soul, allow me to be every sensation that caresses your skin.",
"I still donâ€™t know what to do with all the silence you left.",
"Iâ€™ll leave the key to my heart under the mat in case you decide to come back.",
"Call me!!",
"When I miss you I experience a heartache that is impossible to endure.",
"If love had a heartbeat it would sound like your name.",
"I sleep to see you, sleep to forget you, somewhere in between I find you every day.",
"I sleep so I can see you and I hate to wait so long.",
"You matter to me more than you think and more than I show.",
"You are amazingly pretty.",
"You still have the prettiest brown eyes Iâ€™ve ever seen.",
"In my eyes you are the masterpiece I could never stop adoring.",
"Missing you comes in waves but this week Iâ€™ve been drowning.",
"I dedicate the moon to you because itâ€™s one thing we both see even when apart.",
"Born to love you like a poem, forced to yearn for you like a miserable poet.",
"Your smile is the sun that brightens my every day.",
"Those beautiful brown eyes of yours have a way of speaking to my soul.",
"The way you laugh makes the world feel lighter, happier, and softer.",
"Every time I see you, I fall a little more in love with your energy.",
"Your beauty isnâ€™t just in your face, itâ€™s in the way you move through life.",
"You have the prettiest eyes Iâ€™ve ever seen, and they make my heart pause.",
"Being around you is like listening to my favorite song on repeat.",
"You shine effortlessly, and I love the vibe you bring wherever you go.",
"The way you look at the world makes it impossible not to notice your magic.",
"Every small thing about you feels like poetry written just for me."
    ];

    // Rotation interval: every few hours -> set to 6 hours (user chose "few hours")
    const INTERVAL_HOURS = 6;
    const INTERVAL_MS = INTERVAL_HOURS * 60 * 60 * 1000;

    const poemEl = document.getElementById('poemText');
    const nextBtn = document.getElementById('nextBtn');

    // compute index based on epoch time divided by interval so it changes every INTERVAL_HOURS
    function currentIndex() {
      const now = Date.now();
      const bucket = Math.floor(now / INTERVAL_MS);
      return bucket % poems.length;
    }

    function showPoem(i) {
      const text = poems[i];
      poemEl.textContent = text;
    }

    function showCurrentPoem() {
      showPoem(currentIndex());
    }

    // next button shows a fresh random poem (not bound to schedule)
    nextBtn.addEventListener('click', function(){
      const random = Math.floor(Math.random() * poems.length);
      showPoem(random);
      // update stored timestamp so scheduled rotation doesn't immediately override for a short time
      localStorage.setItem('last_manual', Date.now());
    });

    // initialize
    showCurrentPoem();

    // periodic check: if schedule advanced, update poem (but respect recent manual clicks)
    setInterval(function(){
      const lastManual = parseInt(localStorage.getItem('last_manual') || '0', 10);
      if (Date.now() - lastManual < 5*60*1000) return;
      showCurrentPoem();
    }, 60*1000);

    // optional: register service worker if available (enables PWA offline caching when hosted)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(()=>{/* sw registration is optional */});
    }
  </script>
</body>
</html>
